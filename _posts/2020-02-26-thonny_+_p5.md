---
layout: post
comments: true
title: "Portable Thonny + p5"
categories: code python
---

You can combine Thonny and p5 for Processing-esque, Python 3 development environment that runs off a USB drive. This is handy for teaching programming, or creative coding in environments where you may not have ability to install software.

<figure>
  <img src="{{ site.url }}/img/tpp/header.png" class="fullwidth" />
</figure>

This post covers how to roll-your-own, portable Thonny + p5 IDE for Windows computers. The process is similar for Mac and Linux setups, although I will not cover the exact process for these platforms.

## Thonny

If you haven't heard about [Thonny](https://thonny.org/), it's a Python IDE catering to any beginners looking to dabble in Python. In a downloadable zip file, less than 30 MB in size, you get a neat editor bundled with Python (version 3.7 at the time of writing). The user interface is stripped back, but you can display several useful panels, like a list of variables, an outline panel for your functions, an object inspector, interactive debugger, shell, plotter, and more. It's multi-platform (Windows, Mac, Linux), open source, and there's a *portable* too.

## Portable Applications

A 'portable' application is one that includes no installer. It's a stand-alone program that you simply run directly off your USB drive, or from wherever you choose to copy it to your computer (i.e. the Desktop).

## p5

[p5](https://github.com/p5py/p5) -- not to be confused with p5.js -- is a Python package based on the core ideas of [Processing](https://processing.org/). There's also a [Python Mode](https://py.processing.org/) for Processing, which I have [written about]({{ site.baseurl }}/#processing-reverse) extensively. So, you may wonder: what's the difference between p5 and the Processing's Python Mode? Python Mode 'speaks' directly to Processing; it's as close as you can get to pure Processing without writing Java, as all of your Python instructions are translates into instructions for Processing to carry out. On the other hand, p5 is sort of clone of Processing, that doesn't actually use Processing to generate visual output. Unlike Processing Python mode, p5 is compatible with Python 3 and Python libraries that use C extensions (e.g. Numpy). But, because p5 is a recreation of the Processing API, it much more limited and cannot leverage the Processing library ecosystem.

## Rolling Your Own Portable Thonny + p5

To begin, download the portable version of Thonny from [https://github.com/thonny/thonny/releases/](https://github.com/thonny/thonny/releases/).

<figure>
  <img src="{{ site.url }}/img/tpp/thonny-download.png" class="fullwidth" />
  <figcaption>At the time of writing, version 3.2.6 is the latest release</figcaption>
</figure>

Extract the zip file you've downloaded, then run the *thonny.exe* file to launch Thonny:

<figure>
  <img src="{{ site.url }}/img/tpp/thonny-extract.png" class="fullwidth" />
</figure>

At the next prompt, you may change the Language setting, but stick with the default Initial Settings:

<figure>
  <img src="{{ site.url }}/img/tpp/thonny-splash.png" style="max-width:400px" />
</figure>




this will install p5 and its dependencies (glfw, triangle, vispy, numpy, Pillow, freetype-py)

Glfw


* this is for windows
* download thonny portable (https://github.com/thonny/thonny/releases/tag/v3.2.6)
* add p5 package (https://github.com/thonny/thonny/wiki/InstallingPackages)
* download and place glfw dlls in thonny dir (next to thonny.exe)
* /thonny+p5/Lib/site-packages/vispy/ext/glfw.py
~~~

import sys
_glfw_file = sys.executable.replace('\\', '\\\\')
_glfw_file = _glfw_file.replace('python.exe', 'glfw3.dll')

# Else, we failed and exit
...
~~~





* you can delete the .pyc files and __pycache__ directories if you want to

* p5 documentation

## Introduction

...

## ...
